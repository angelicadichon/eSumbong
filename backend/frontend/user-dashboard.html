<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Resident Dashboard | eSumbong</title>
    <link rel="stylesheet" href="css/user.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  </head>
  <body>
    <aside class="sidebar">
      <div class="sidebar-header">
        <i data-lucide="home"></i>
        <h2>eSumbong</h2>
      </div>
      <nav>
        <ul>
          <li data-link="user-dashboard.html" class="nav-item active">
            <a href="user-dashboard.html"><i data-lucide="layout-dashboard"></i> Dashboard</a>
          </li>
          <li data-link="submit-report.html" class="nav-item">
            <a href="submit-report.html"><i data-lucide="file-plus"></i> Submit Report</a>
          </li>
          <li data-link="notifications.html" class="nav-item">
            <a href="notifications.html"><i data-lucide="bell"></i> Notifications</a>
          </li>
          <li data-link="feedback.html" class="nav-item">
            <a href="feedbacks.html"><i data-lucide="star"></i> Feedback</a>
          </li>
          <li class="nav-item logout-btn">
            <a href="#" onclick="logout(); return false;"><i data-lucide="log-out"></i> Logout</a>
          </li>
        </ul>
      </nav>
    </aside>

    <main class="main-content">
      <header class="top-header">
        <h1>Resident Dashboard</h1>
        <div class="header-actions">
          <input id="searchInput" class="global-search" placeholder="Search complaints..." />
        </div>
      </header>

      <section class="page-content dashboard-page">
        <!-- Analytics Cards -->
        <div class="analytics-section">
          <h2>Report Analytics</h2>
          <div class="cards-row">
            <div class="stat-card">
              <div class="stat-icon total">
                <i data-lucide="file-text"></i>
              </div>
              <div class="stat-info">
                <h3 id="totalReports">0</h3>
                <p>Total Reports</p>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon pending">
                <i data-lucide="clock"></i>
              </div>
              <div class="stat-info">
                <h3 id="pendingReports">0</h3>
                <p>Pending</p>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon in-progress">
                <i data-lucide="refresh-cw"></i>
              </div>
              <div class="stat-info">
                <h3 id="progressReports">0</h3>
                <p>In Progress</p>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-icon resolved">
                <i data-lucide="check-circle"></i>
              </div>
              <div class="stat-info">
                <h3 id="resolvedReports">0</h3>
                <p>Resolved</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Complaints Table -->
        <div class="card complaints-card">
          <div class="card-header">
            <h3>ðŸ“‹ My Complaints</h3>
            <input
              type="text"
              id="tableSearch"
              placeholder="Search complaints..."
              class="search-box"
            />
          </div>

          <div class="table-wrap">
            <table id="complaintsTable" class="table">
              <thead>
                <tr>
                  <th>Reference #</th>
                  <th>Date</th>
                  <th>Category</th>
                  <th>Description</th>
                  <th>Status</th>
                  <th>Location</th>
                </tr>
              </thead>
              <tbody id="complaintsBody">
                <!-- Data will be loaded dynamically -->
                <tr>
                  <td colspan="6" class="loading-text">Loading complaints...</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>
    </main>

    <script src="js/user.js"></script>
    <script>
      lucide.createIcons();
      
      // Load dashboard data when page loads
      document.addEventListener('DOMContentLoaded', function() {
        loadDashboardData();
      });
    </script>
  </body>
</html>